from django.contrib import admin
from custom_app.models import Author,Post
from django.utils.html import mark_safe 
# Register your models here.
class AutorAdmin(admin.ModelAdmin):
    list_display= ['id','name','age','place','show_button']
    change_list_template = 'admin/model/change_list.html'

    
    def show_button(self,obj):
          return mark_safe(f'<button type="button" class="btn btn-warning btn-sm" onclick="Get_author_post({obj.id})"  data-bs-toggle="modal" data-bs-target="#authorModel">Show Post</button>')
    # def changelist_view(self, request, extra_context=None):
    #     extra_context = extra_context or {}
    #     extra_context['some_var'] = 'This is what I want to show'
    #     return super().changelist_view(request, extra_context=extra_context)
admin.site.register(Author,AutorAdmin)

class PostAdmin(admin.ModelAdmin):
    list_display = ['id','author','blog','show_author']
    change_form_template = 'admin/model/change_form.html'
    def show_author(self,obj):
          return mark_safe(f'<button type="button" class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#authorModel">{obj.author}</button> ')
admin.site.register(Post,PostAdmin)
































































































































































































































































































